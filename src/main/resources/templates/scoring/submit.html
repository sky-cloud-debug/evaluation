<!DOCTYPE html>
<html>

<head>
    <title>上传加分项</title>
    <meta http-equiv="Content-Type" content="multipart/form-data" charset="UTF-8">
    <link rel="stylesheet" href="/css/layui.css" media="all"/>
</head>

<body>
<form class="layui-form" action="/subMaterials" method="post" enctype="multipart/form-data">
    <div class="layui-form-item">
        <label class="layui-form-label">奖项类型</label>
        <div class="layui-input-block">
            <select name="type" lay-verify="true" lay-verify="required">
                <option value="">奖项类型</option>
                <option value="身心素质">身心素质</option>
                <option value="科技人文素质">科技人文素质</option>
                <option value="道德素质">道德素质</option>
            </select>
        </div>
    </div>

    <div class="layui-form-item">
        <label class="layui-form-label">奖项名称</label>
        <div class="layui-input-block">
            <input type="text" name="awardName" autocomplete="off" lay-verify="required" placeholder="奖项名称"
                   class="layui-input">
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">加分数</label>
        <div class="layui-input-block">
            <input type="text" name="score" autocomplete="off" lay-verify="required" placeholder="加分数"
                   class="layui-input">
        </div>
    </div>
    <div class="layui-upload">
        <input type="file" name="materials" class="layui-btn layui-btn-normal" id="test8" style="margin-left: 110px;"/>
    </div>
    <br/>
    <div class="layui-form-item">
        <div class="layui-input-block">
            <input type="submit" value="提交" class="layui-btn" lay-submit="" lay-filter="demo1"/>
        </div>
    </div>
</form>

<script src="/layui.js" charset="utf-8"></script>
<script>
    layui.use(['form', 'layedit', 'laydate', 'upload'], function () {
        var form = layui.form,
            layer = layui.layer,
            layedit = layui.layedit,
            laydate = layui.laydate,
            upload = layui.upload;

        //监听提交
        form.on('submit(demo1)', function (data) {
            console.log(data.elem) //被执行事件的元素DOM对象，一般为button对象
            console.log(data.form) //被执行提交的form对象，一般在存在form标签时才会返回
            console.log(data.field) //当前容器的全部表单字段，名值对形式：{name: value}

            //					$.ajax({
            //						url: "", //提交的路径
            //						type: "post", //提交方式
            //						data: {
            //							//向后台提交的数据
            //						},
            //						dataType: "JSON", //规定请求成功后返回的数据
            //						success: function(data) {
            //
            //							alert("OK");
            //						},
            //						error: function(e) {
            //							alert("error");
            //						}
            //					})

            return false; //阻止表单跳转。如果需要表单跳转，去掉这段即可。
        });

        //选完文件后不自动上传
        upload.render({
            elem: '#test8',
            url: '' //上传接口
            ,
            field: '' //表单的name值
            ,
            multiple: true,
            accept: 'images',
            acceptMime: 'image/*',
            auto: false //取消自动上传
        });
    });
</script>

</body>

</html>